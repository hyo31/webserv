{
    listen 8001 defaultServer;

    root htmlFiles;
    errorPages htmlFiles/errorPages;
    clientBodyMaxSize 4096;
	autoindex on;

	page /old-home {
		redirect 301;
		location /home;
	}
	page /home/old-subdir {
		redirect 301;
		location /home/subdir;
	}
	page /home/kappa {
		location htmlFiles/home/kappa.html;
		methods GET;
	}
	page /home/subdir/hoi {
		location htmlFiles/home/subdir/hoi.html;
		methods GET;
	}
    page /home {
        location htmlFiles/home.html;
        methods GET;
    }
    page /form {
        location htmlFiles/form.html;
        methods GET, POST;
    }
    page /uploadfile {
        location htmlFiles/uploadfile.html;
        methods GET, POST;
    }
    page /home/ {
        location htmlFiles/home/index.html;
        methods GET;
    }
	page /errorPages/ {
        location htmlFiles/errorPages/index.html;
        methods GET;
    }
	page /home/subdir/ {
        location htmlFiles/home/subdir/index.html;
        methods GET;
    }
	page / {
        location htmlFiles/index.html;
        methods GET;
    }
}

{
    listen 8002 defaultServer;

    root htmlFiles;
    errorPages htmlFiles/errorPages;
    clientBodyMaxSize 4096;

    page / {
        location htmlFiles/home.html;
        methods GET;
    }

	page /old-home {
		redirect 301;
		location /home;
	}

	page /home/old-subdir {
		redirect 301;
		location /home/subdir;
	}

	page /home/kappa {
		location htmlFiles/home/kappa.html;
		methods GET;
	}

	page /home/subdir/hoi {
		location htmlFiles/home/subdir/hoi.html;
		methods GET;
	}

    page /home {
        location htmlFiles/home.html;
        methods GET;
    }

    page /form {
        location htmlFiles/form.html;
        methods GET, POST;
    }

    page /uploadfile {
        location htmlFiles/uploadfile.html;
        methods GET, POST;
    }
	page /errorPages/ {
        location htmlFiles/errorPages/index.html;
        methods GET;
    }
	page /home/subdir/ {
        location htmlFiles/home/subdir/index.html;
        methods GET;
    }
	page / {
        location htmlFiles/index.html;
        methods GET;
    }

}

{
    listen 8003 defaultServer;

    root htmlFiles;
    errorPages htmlFiles/errorPages;
    clientBodyMaxSize 4096;

    page / {
        location htmlFiles/home.html;
        methods GET;
    }

	page /old-home {
		redirect 301;
		location /home;
	}

	page /home/old-subdir {
		redirect 301;
		location /home/subdir;
	}

	page /home/kappa {
		location htmlFiles/home/kappa.html;
		methods GET;
	}

	page /home/subdir/hoi {
		location htmlFiles/home/subdir/hoi.html;
		methods GET;
	}

    page /home {
        location htmlFiles/home.html;
        methods GET;
    }

    page /form {
        location htmlFiles/form.html;
        methods GET, POST;
    }
    page /uploadfile {
        location htmlFiles/uploadfile.html;
        methods GET, POST;
    }
	page /errorPages/ {
        location htmlFiles/errorPages/index.html;
        methods GET;
    }
	page /home/subdir/ {
        location htmlFiles/home/subdir/index.html;
        methods GET;
    }
	page / {
        location htmlFiles/index.html;
        methods GET;
    }

}
